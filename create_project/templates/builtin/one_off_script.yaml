# ABOUTME: Built-in template for one-off Python scripts
# ABOUTME: Simple single-file scripts for automation, data processing, and utilities

schema_version: "1.0.0"

metadata:
  name: "One-off Script"
  description: "Simple Python script for personal use or basic distribution"
  version: "1.0.0"
  category: "Script"
  tags: ["script", "automation", "utility", "simple"]
  author: "Create Project Team"
  created: "2025-07-21T16:43:00Z"
  template_id: "builtin_one_off_script"

variables:
  - name: "project_name"
    type: "string"
    description: "Name of the script project"
    required: true
    validation:
      pattern: "^[a-zA-Z][a-zA-Z0-9_-]*$"
      min_length: 2
      max_length: 50
      message: "Project name must start with a letter and contain only letters, numbers, underscores, and hyphens"

  - name: "author"
    type: "string"
    description: "Script author name"
    required: true
    default: "Your Name"
    validation:
      min_length: 2
      max_length: 100

  - name: "email"
    type: "email"
    description: "Author email address"
    required: false

  - name: "description"
    type: "string"
    description: "Brief description of what the script does"
    required: true
    default: "A simple Python script"
    validation:
      min_length: 10
      max_length: 200

  - name: "license"
    type: "choice"
    description: "License for the script"
    required: true
    default: "MIT"
    choices: ["MIT", "Apache-2.0", "GPL-3.0", "BSD-3-Clause", "Unlicense"]

  - name: "python_version"
    type: "choice"
    description: "Minimum Python version required"
    required: true
    default: "3.9.6"
    choices: ["3.9.6", "3.10.0", "3.11.0", "3.12.0"]

  - name: "include_tests"
    type: "boolean"
    description: "Include test file for the script"
    required: false
    default: true

  - name: "include_verbose"
    type: "boolean"
    description: "Include verbose output option in script"
    required: false
    default: true

  - name: "init_git"
    type: "boolean"
    description: "Initialize git repository"
    required: false
    default: true

  - name: "create_venv"
    type: "boolean"
    description: "Create virtual environment"
    required: false
    default: false

structure:
  root_directory:
    name: "{{project_name}}"
    files:
      - name: "{{project_name}}.py"
        template_file: "script/main_script.py"

      - name: "README.md"
        template_file: "common/readme.md"

      - name: ".gitignore"
        template_file: "common/gitignore.txt"

      - name: "LICENSE"
        content: "{{ license_text }}"

      - name: "requirements.txt"
        content: |
          # Add your dependencies here
          # Example:
          # requests>=2.25.0

      - name: "test_{{project_name}}.py"
        template_file: "script/test_script.py"
        condition: "{{ include_tests }}"

    directories: []

template_files:
  files:
    - name: "script/main_script.py"
    - name: "script/test_script.py"
    - name: "common/readme.md"
    - name: "common/gitignore.txt"

hooks:
  post_generation:
    - type: "git"
      command: "init"
      condition: "{{ init_git }}"
    - type: "python"
      command: "-m venv venv"
      condition: "{{ create_venv }}"

compatibility:
  min_python_version: "{{python_version}}"
  supported_os: ["macOS", "Linux", "Windows"]
  dependencies: []